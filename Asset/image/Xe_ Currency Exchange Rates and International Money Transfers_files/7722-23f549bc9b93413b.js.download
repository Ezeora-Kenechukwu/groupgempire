"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7722],{43926:function(e,n,t){t.d(n,{Cq:function(){return r},nl:function(){return o}});let o="https://www.xe.com/xemoneytransfer?page=lp/refer-a-friend-onsite/?utm_content=xecom-banner-perscorp",r=["AU","NZ","CA"]},7722:function(e,n,t){t.d(n,{ZP:function(){return et}});var o=t(82729),r=t(85893),i=t(67294),l=t(25675),a=t.n(l),s=t(11163),c=t(36808),d=t.n(c),u=t(23279),p=t.n(u),m=t(45697),h=t.n(m),f=t(53573),g=t(19521),x=t(40656),b=t(72045),y=t(84385),j=t(68220),w=t(97228),C=t(60460),_=t(44632),O=t(80974),v=t(64482),M=t(1016),S=t(65605),E=t(13722),A=t(74127),P=t(93503),Z=t(99707),I=t(11148),T=t(92795),k=t(19112),F=t(35124),N=t(14551),D=t(92387),R=t(59597);let getMobileDevice=()=>{let e=navigator.userAgent;return/android/i.test(e)&&/mobile/i.test(e)&&!window.MSStream?"android":/iPhone|iPod/.test(e)&&!window.MSStream?"ios":null};var B=t(43926);let showWebAppPopupFn=e=>{let n=getMobileDevice();return!!n&&B.Cq.some(n=>n===e)};var z=t(14187),U=t(85011),q=t(54297),W=t(46792),Q=t(35270),L=t(12543),V=t(61366),G=t(79922);let getBrowser=()=>{let e=navigator.userAgent;if(e.match(/edg/i));else if(e.match(/firefox|fxios/i));else if(e.match(/opr\//i));else if(e.match(/chrome|chromium|crios/i))return"Chrome";else if(e.match(/safari/i))return"Safari";return null};function _templateObject(){let e=(0,o._)(["\n  margin: 0;\n  margin-top: 4px;\n  margin-bottom: 8px;\n  padding: 0;\n  border: 0;\n  border-top: 1px solid #ddd;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n  display: block;\n  font-size: 15px;\n  white-space: nowrap;\n  border-radius: 8px;\n  padding: 10px 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  font-size: 16px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n  width: 50px;\n  border-radius: 8px;\n  margin-right: 9px;\n\n  svg {\n    width: 32px;\n  }\n"]);return _templateObject4=function(){return e},e}let SignInAndSendOptions=()=>{let{t:e}=(0,f.$)("quoter"),n=getBrowser();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{fontSize:"17px",textAlign:"center",padding:"12px"},children:e("signInAndSendPopUp.heading")}),(0,r.jsx)(H,{}),(0,r.jsx)(X,{children:(0,r.jsxs)($,{children:[(0,r.jsxs)(Y,{children:[(0,r.jsx)(J,{style:{backgroundColor:"#0A146E"},children:(0,r.jsx)(V.default,{style:{color:"#FFFFFF"}})}),e("signInAndSendPopUp.XEApp")]}),(0,r.jsx)(G.Z,{variant:"primary",size:"medium",style:{height:"48px",fontSize:"16px",borderRadius:"8px"},as:"a",href:N.Jx.genericApp,onClick:()=>{U.Z.trackEvent("Button Clicked",{buttonName:"ModalApp UseApp",url:window.location.href,path:window.location.pathname,onBusinessPage:!1})},children:e("signInAndSendPopUp.useApp")})]})}),(0,r.jsx)(X,{children:(0,r.jsxs)($,{children:[(0,r.jsxs)(Y,{children:[(0,r.jsxs)(J,{style:{backgroundColor:"#FFFFFF",border:"1px solid #DDDDDD"},children:[!n&&(0,r.jsx)(a(),{src:"/globe-color.png",alt:"globe icon",width:30,height:30,loading:"lazy"}),"Chrome"===n&&(0,r.jsx)(a(),{src:"/google-chrome.png",alt:"crome icon",width:30,height:30,loading:"lazy"}),"Safari"===n&&(0,r.jsx)(a(),{src:"/safari.png",alt:"safari icon",width:30,height:30,loading:"lazy"})]}),n||e("signInAndSendPopUp.browser")]}),(0,r.jsx)(G.Z,{variant:"chip",size:"medium",style:{height:"48px",fontSize:"16px",borderRadius:"8px",backgroundColor:"#F2F7FE"},as:"a",href:"https://transfer.xe.com/signup/personal/step1?ctaPosition=tab",onClick:()=>{U.Z.trackEvent("Button Clicked",{buttonName:"ModalApp Continue",url:window.location.href,path:window.location.pathname,onBusinessPage:!1})},children:e("signInAndSendPopUp.continue")})]})})]})},H=g.ZP.hr.withConfig({componentId:"sc-1b16e234-0"})(_templateObject()),X=g.ZP.div.withConfig({componentId:"sc-1b16e234-1"})(_templateObject1()),$=g.ZP.div.withConfig({componentId:"sc-1b16e234-2"})(_templateObject2()),Y=g.ZP.div.withConfig({componentId:"sc-1b16e234-3"})(_templateObject3()),J=g.ZP.div.withConfig({componentId:"sc-1b16e234-4"})(_templateObject4());var K=t(87481);let TrackingButton=e=>{let{errorMessage:n,isSomethingLoading:t,mobileDevice:o,usedOn:i,setIsDrawerOpen:l,setIsNavigatingAway:a,isNavigatingAway:c,t:d}=e,u=(0,s.useRouter)(),{countryCode:p}=(0,W.HY)(),handleOpenDrawer=()=>{U.Z.trackEvent("Mobile Prompt Displayed",{url:window.location.href}),l(!0)},m=showWebAppPopupFn(p),handleMobileClick=()=>{U.Z.trackEvent("Button Clicked",{buttonName:"SendMoneyPage"===i?"XecomSendMoney SignSend":"SendMoneyWidget SignSend",url:window.location.href,path:window.location.pathname,onBusinessPage:!1}),m?handleOpenDrawer():u.push("https://transfer.xe.com/signup/personal/step1?ctaPosition=tab")},handleClick=()=>{a(!0),U.Z.trackEvent("Button Clicked",{buttonName:"SendMoneyPage"===i?"XecomSendMoney SignSend":"SendMoneyWidget SignSend",url:window.location.href,path:window.location.pathname,onBusinessPage:!1}),u.push("https://transfer.xe.com/signup/personal/step1?ctaPosition=tab")};return o?(0,r.jsx)(K.Z,{disabled:null!==n||t,as:"a",onClick:()=>handleMobileClick(),style:{color:"#fff"},children:d("quoteButtonText")}):(0,r.jsxs)(K.Z,{disabled:null!==n||t,onClick:()=>handleClick(),style:{color:"#fff"},children:[d("quoteButtonText"),c&&(0,r.jsx)(k.$j,{style:{marginLeft:"4px"}})]})};function quoter_templateObject(){let e=(0,o._)(["\n  font-size: 15px;\n  margin-bottom: 4px;\n  color: #141e37;\n"]);return quoter_templateObject=function(){return e},e}function quoter_templateObject1(){let e=(0,o._)(["\n  width: 100%;\n\n  & .combobox-input {\n    border: none;\n    box-shadow: none !important;\n  }\n\n  & .combobox-list {\n    width: 294px;\n    top: 110%;\n    left: unset !important;\n    right: 0px;\n  }\n"]);return quoter_templateObject1=function(){return e},e}function quoter_templateObject2(){let e=(0,o._)(["\n  flex-grow: 1;\n  display: flex;\n  min-width: 40%;\n  & .combobox-input {\n    border: none;\n    box-shadow: none !important;\n  }\n"]);return quoter_templateObject2=function(){return e},e}function quoter_templateObject3(){let e=(0,o._)(["\n  border: 0;\n  justify-content: flex-end;\n  width: auto;\n  box-shadow: none !important;\n  color: black;\n"]);return quoter_templateObject3=function(){return e},e}function quoter_templateObject4(){let e=(0,o._)(["\n  border: 0;\n  width: 100%;\n  box-shadow: none !important;\n  padding: 0 !important;\n  justify-content: flex-start;\n  font-size: 18px;\n  color: ",";\n\n  & input {\n    width: 100% !important;\n  }\n"]);return quoter_templateObject4=function(){return e},e}function _templateObject5(){let e=(0,o._)(["\n  width: ",";\n  height: ",";\n  color: #141e37;\n  transform: ",";\n  transition: transform 0.2s;\n  margin-right: "," !important;\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,o._)(["\n  color: #003cbe;\n  text-decoration: none;\n  background: #f2f7fe;\n  padding: 12px 12px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 4px;\n  "," {\n    flex-direction: row;\n  }\n  "," {\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n  }\n  &:hover {\n    span {\n      color: rgb(26, 134, 250);\n    }\n    color: rgb(26, 134, 250);\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,o._)(["\n  color: rgb(92, 102, 123);\n  text-decoration: none;\n"]);return _templateObject7=function(){return e},e}function _templateObject8(){let e=(0,o._)(["\n  text-decoration: underline;\n  font-size: 13px;\n"]);return _templateObject8=function(){return e},e}function _templateObject9(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n\n  & > span:first-child {\n    white-space: nowrap;\n  }\n\n  svg {\n    margin-left: 4px;\n    width: 16px;\n    height: 16px;\n    color: #141e37;\n  }\n"]);return _templateObject9=function(){return e},e}function _templateObject10(){let e=(0,o._)(["\n  border: 1.5px solid #e6ebf5;\n  border-radius: 8px;\n  padding: 12px;\n"]);return _templateObject10=function(){return e},e}function _templateObject11(){let e=(0,o._)(["\n  margin-top: 16px;\n  & > *:not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]);return _templateObject11=function(){return e},e}function _templateObject12(){let e=(0,o._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 14px;\n\n  & > *:first-child {\n    margin-right: auto;\n    font-weight: 600;\n    color: #141e37;\n  }\n  & > *:last-child {\n    color: #5c667b;\n    font-weight: 400;\n  }\n"]);return _templateObject12=function(){return e},e}function _templateObject13(){let e=(0,o._)(["\n  margin: 24px 0;\n  padding: 0;\n  border: 0;\n  border-top: 1px solid #f3f4f6;\n"]);return _templateObject13=function(){return e},e}function _templateObject14(){let e=(0,o._)(["\n  gap: 8px;\n  margin-top: 24px;\n  && {\n    font-size: 16px;\n  }\n  "," {\n    margin: 0;\n  }\n"]);return _templateObject14=function(){return e},e}function _templateObject15(){let e=(0,o._)(["\n  display: block;\n\n  appearance: none;\n  margin: 0;\n  border: 0;\n  background: none;\n\n  width: 100%;\n  padding: 8px 16px;\n\n  &:disabled > *:not(.error) {\n    opacity: 0.38;\n  }\n\n  &:hover:not(:disabled) {\n    background: #e6ebf5;\n  }\n\n  &:first-child {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-child {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n"]);return _templateObject15=function(){return e},e}function _templateObject16(){let e=(0,o._)(["\n  appearance: none;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  background: none;\n\n  width: 100%;\n  font-weight: 600;\n  color: #0071eb !important;\n  font-size: 14px;\n  text-align: left;\n\n  &:disabled {\n    opacity: 0.38;\n  }\n"]);return _templateObject16=function(){return e},e}function _templateObject17(){let e=(0,o._)(["\n  visibility: ",";\n  opacity: ",";\n\n  position: absolute;\n  top: calc(100% + 20px);\n  left: 50%;\n  transform-origin: center top;\n  transform: translateX(-50%)\n    ",";\n  margin: auto;\n  z-index: 10;\n  width: calc(100% + 28px);\n\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0px 2px 4px 2px rgba(0, 17, 51, 0.1);\n\n  transition: all 0s;\n  transition:\n    opacity 0.2s ease,\n    transform 0.2s ease,\n    visibility 0.2s\n      ",";\n"]);return _templateObject17=function(){return e},e}function _templateObject18(){let e=(0,o._)(["\n  padding: 12px;\n  border-radius: 4px;\n  background: #ffe1e6;\n"]);return _templateObject18=function(){return e},e}function _templateObject19(){let e=(0,o._)(["\n  color: #cd3d64;\n  font-size: 12px;\n  text-align: left;\n  a {\n    color: #cd3d64;\n    text-decoration: none;\n  }\n"]);return _templateObject19=function(){return e},e}function _templateObject20(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n\n  & .combobox-chevron {\n    width: 1em;\n    height: 0.6em;\n    color: #141e37;\n    flex-shrink: 0;\n  }\n"]);return _templateObject20=function(){return e},e}function _templateObject21(){let e=(0,o._)(["\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  gap: 8px;\n  align-items: center;\n  margin-right: 8px;\n\n  span {\n    color: #5c667b;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .dark-text {\n    color: #141e37;\n    font-weight: 500;\n  }\n"]);return _templateObject21=function(){return e},e}function _templateObject22(){let e=(0,o._)(["\n  background-color: #def7e8;\n  border-radius: 8px;\n  padding: 12px;\n  color: #055e2b !important;\n"]);return _templateObject22=function(){return e},e}function _templateObject23(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  font-weight: 500 !important;\n  color: #055e2b !important;\n  & > span {\n    display: block;\n    padding: 0 5px 0 6px;\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n"]);return _templateObject23=function(){return e},e}TrackingButton.propTypes={mobileDevice:h().bool,errorMessage:h().string,isSomethingLoading:h().bool,setIsDrawerOpen:h().func,usedOn:h().string,setIsNavigatingAway:h().func,isNavigatingAway:h().bool,t:h().func};let ee={BankTransfer:{Icon:j.default},DirectDebit:{Icon:j.default},CreditCard:{Icon:w.default},DebitCard:{Icon:w.default}},en={BankAccount:"bank",CashPayout:"cashPickup",MobileWallet:"mobileWallet"},CustomFacePlate=e=>{let{description:n,Icon:t,isLoading:o}=e,{t:i}=(0,f.$)("quoter");return(0,r.jsxs)(e_,{children:[(0,r.jsx)(eO,{children:o?(0,r.jsx)(k.$j,{style:{height:"24px"}}):(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(t,{style:{width:"24px",height:"auto"},"aria-hidden":"true"}),(0,r.jsxs)("span",{children:[i("deliveryCountryText")," ",(0,r.jsx)("b",{className:"dark-text",children:n})]})]})}),(0,r.jsx)(C.default,{className:"combobox-chevron"})]})},CountryCombobox=e=>{let{userCountry:n,...t}=e,{t:o}=(0,f.$)(),{data:l,isValidating:a}=(0,x.ZP)(()=>"".concat("https://launchpad-api.xe.com","/Destinations/countries?CountryFrom=").concat(n),{revalidateOnFocus:!1}),s=(0,i.useMemo)(()=>null==l?void 0:l.map(e=>({value:e.countryCode,description:o("countries:".concat(e.countryCode,".name")),Icon:n=>(0,r.jsx)(S.Z,{countryCode:e.countryCode,...n})})).filter(e=>!["KV","UK"].includes(e.value)).sort((e,n)=>e.description<n.description?-1:1),[l,o]);return(0,r.jsx)(v.Z,{searchPlaceholder:o("misc:searchPrompt"),options:s,showDescriptionOnly:!0,CustomFaceplate:CustomFacePlate,isLoading:a,...t})},Quoter=e=>{let{fromCountryCode:n=null,toCountryCode:t=null,usedOn:o,featureEnabled:l,featureVariables:c}=e,{t:u}=(0,f.$)("quoter"),{locale:m,asPath:h}=(0,s.useRouter)(),{currencyData:g,countryCode:x,userContinent:j}=(0,W.HY)(),{countryCode:w}=(0,W.j1)(),C=w||x,{tradableFixedField:_,tradableSendingAmount:v,tradableSendingCurrency:M,tradableReceivingAmount:S,tradableReceivingCurrency:A,destinationCountry:k}=(0,W.j1)(),N=(0,W.xP)(),R=function(e){let{locale:n,tradableSendingCurrency:t}=e,o=!!d().get("lastQuote");return"en-gb"!==n||o?t:"GBP"}({locale:m,tradableSendingCurrency:M}),[B,V]=(0,i.useState)(v),[G,H]=(0,i.useState)(R),[X,$]=(0,i.useState)(S),[Y,J]=(0,i.useState)(A),[K,ee]=(0,i.useState)(_),[en,et]=(0,i.useState)(k);(0,i.useEffect)(()=>{var e;n&&(null===(e=g[n])||void 0===e?void 0:e.isSellable)!==!1&&(H(n),J(t))},[g,n,t]),(0,i.useEffect)(()=>{N({type:"CHANGE_TRADABLE_SENDING_AMOUNT",payload:B}),N({type:"CHANGE_TRADABLE_SENDING_CURRENCY",payload:G}),N({type:"CHANGE_TRADABLE_RECEIVING_AMOUNT",payload:X}),N({type:"CHANGE_TRADABLE_RECEIVING_CURRENCY",payload:Y}),N({type:"CHANGE_TRADABLE_FIXED_FIELD",payload:K}),N({type:"CHANGE_DESTINATION_COUNTRY",payload:en}),d().set("lastQuote",{sendingAmount:B,sendingCurrency:G,receivingAmount:X,receivingCurrency:Y,fixedField:K,destinationCountry:en},{expires:30})},[B,G,X,Y,K,en,N]);let ea=(0,i.useRef)(),es=(0,i.useRef)(),ec=(0,i.useRef)([]),{isMenuOpen:eg,setIsMenuOpen:e_,menuWrapperProps:eO,menuButtonProps:eS,menuItemProps:eE}=(0,L.Z)({menuWrapperRef:ea,menuButtonRef:es,menuItemsRef:ec}),eA=(0,i.useRef)(),eP=(0,i.useRef)(),eZ=(0,i.useRef)([]),{isMenuOpen:eI,setIsMenuOpen:eT,menuWrapperProps:ek,menuButtonProps:eF,menuItemProps:eN}=(0,L.Z)({menuWrapperRef:eA,menuButtonRef:eP,menuItemsRef:eZ}),{sellableCurrencies:eD,buyableCurrencies:eR}=(0,i.useMemo)(()=>{let e=[],n=[];return Object.keys(g).forEach(t=>{g[t].isSellable&&e.push(t),g[t].isBuyable&&n.push(t)}),{sellableCurrencies:e,buyableCurrencies:n}},[g]),[eB,ez]=(0,i.useState)([]),[eU,eq]=(0,i.useState)(null),[eW,eQ]=(0,i.useState)([]),[eL,eV]=(0,i.useState)("BankAccount"),[,eG]=(0,i.useState)(0),[eH,eX]=(0,i.useState)(0),[e$,eY]=(0,i.useState)(!1),[eJ,eK]=(0,i.useState)(!1),e0=e$||eJ,[e1,e2]=(0,i.useState)(0),[e8,e6]=(0,i.useState)(0),e5=(0,Q.h)({style:"currency",currency:G}),[e4,e3]=(0,i.useState)(0),[e7,e9]=(0,i.useState)(null),[ne,nn]=(0,i.useState)(null),[nt,no]=(0,i.useState)("general"),[nr,ni]=(0,i.useState)(!1),[nl,na]=(0,i.useState)(!1),[ns,nc]=(0,i.useState)(!1),nd=getMobileDevice(),nu=new z.Z("en"),[np,nm]=(0,i.useState)(!1),handleModalOpen=()=>{nm(!0)},handleModalClose=()=>{nm(!1)},[nh,nf]=(0,i.useState)(!1),ng=(0,i.useRef)(null);(0,i.useEffect)(()=>{ng.current&&(0,y.ZP)(ng.current,{easing:"ease-in-out",disrespectUserMotionPreference:!0})},[ng]);let triggerAnonymousQuoteEvent=e=>U.Z.trackEvent("Anonymous Quote Calculated",{...e});(0,i.useEffect)(()=>{if(eB.length>0){let e=eB.find(e=>e.deliveryMethod===eL);e&&triggerAnonymousQuoteEvent({sendAmount:nu.parse(e.sellAmount),sendCurrency:G,payoutAmount:nu.parse(e.buyAmount),payoutCurrency:Y,paymentMethod:eU,deliveryMethod:eL,destinationCountry:en,sendFee:e8,paymentMethodFee:e1,url:window.location.href})}},[eB]),(0,i.useEffect)(()=>{var e;let n=eB.find(e=>e.settlementMethod===eU&&e.deliveryMethod===eL);if(!n)return;nf((null==n?void 0:null===(e=n.promotionDetails)||void 0===e?void 0:e.code)==="INTRO");let t=n.rate,o=nu.parse(n.buyAmount),r=nu.parse(n.sellAmount),i=nu.parse(n.transferFee),l=nu.parse(n.paymentMethodFee)+nu.parse(n.paymentMethodMarginFee),a=nu.parse(n.paymentMethodMarginFee),s=nu.parse(n.totalCostAmount.replace(/[A-Za-z]/g,""));eX(t),"sending"===K?$(o):"receiving"===K&&V(r),e6(i),e2(l),eG(a),e3(s)},[eU,eB,eL,en,B,G,X,Y,K,e0]),(0,i.useEffect)(()=>{null!==e7&&("sending"===K?$(""):"receiving"===K&&V(""))},[e7,K]);let nx=JSON.stringify(eB);(0,i.useEffect)(()=>{ec.current=[],eZ.current=[]},[nx]);let{userId:nb}=(0,D.Z)(),ny=showWebAppPopupFn(C),nj=(0,i.useMemo)(()=>p()((e,n,t,o,r,i)=>{var l;"sending"===t?(eK(!0),l=e):"receiving"===t&&(eY(!0),l=n);let a=(0,b.Z)(),s={method:"POST",headers:{"Content-Type":"application/json",deviceid:i,"X-Correlation-ID":"XECOM-".concat(a)},body:JSON.stringify({sellCcy:e,buyCcy:n,userCountry:C,amount:o,fixedCcy:l,countryTo:r,..."LKR"===n&&{deliveryMethod:"BankAccount"}})};o>=1?fetch("".concat("https://launchpad-api.xe.com","/v2/quotes"),s).then(e=>e.json()).then(o=>{let{quote:{individualQuotes:r,offeredDeliveryMethods:i,warnMessages:l,errorMessages:a}}=o,extractError=o=>{var l,a,s;let[c,d]=Object.entries(o)[0],p=new Intl.NumberFormat(m,{style:"currency",currency:"sending"===t?e:n}),h={maxAmount:p.format(null!==(l=null==d?void 0:d.MaxAmount)&&void 0!==l?l:0),minAmount:p.format(null!==(a=null==d?void 0:d.MinAmount)&&void 0!==a?a:0),currency:null==d?void 0:d.ccycode,openingTime:null==d?void 0:d.openingtime,closingTime:null==d?void 0:d.closingtime,timeZone:null==d?void 0:d.timezonename};if("3000"!==o[c].MinAmount)["QUOTE034","QUOTE035","QUOTE037"].includes(c)?no(t):no("general"),U.Z.trackEvent("Anonymous Quote Error",{errorCode:c}),"QUOTE035"===c?e9(u("errorMessages.QUOTE035",h)):e9(u(["errorMessages.".concat(c),"errorMessages.genericError"],h));else{ez(r),eQ(i),e9(null);let{settlementMethod:e,deliveryMethod:n}=null!==(s=r.find(e=>e.isDefault))&&void 0!==s?s:r[0];eq(e),eV(n)}"QUOTE035"===c&&nc(!0)};if(Object.keys(a).length>0)extractError(a);else if(Object.keys(l).length>0)extractError(l);else{var s;nc(!1),e9(null),ez(r),eQ(i);let{settlementMethod:e,deliveryMethod:n}=null!==(s=r.find(e=>e.isDefault))&&void 0!==s?s:r[0];eq(e),eV(n)}}).catch(e=>{e9(u("errorMessages.genericError")),no("general"),console.error("Error from quoter: ",e)}).finally(()=>{"sending"===t?eK(!1):"receiving"===t&&eY(!1)}):(no(t),e9(u("errorMessages.QUOTE034",{minAmount:"1"})),eK(!1))},500),[u,C,m]);return(0,i.useEffect)(()=>{nb&&!(h.includes("/mt/")&&!w)&&nj(n||G,t||Y,K,"sending"===K?B:X,en,nb),nj.flush()},[nb,w]),(0,i.useEffect)(()=>{let e=new Set;e.add("EU").add("NA"),B>=5e4&&!1===ns&&["USD","EUR","GBP","CAD","AUD","NZD","CHF","SGD","AED"].includes(G)&&"en"===m&&(e.has(j)||"AU"===C||"NZ"===C)?(no("sending"),nn("Making a large transfer?")):nn(null)},[B,ns,G,m,j,C]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eo,{htmlFor:"sending-currency",style:{alignSelf:"flex-end"},children:u("destinationCountryText")}),(0,r.jsx)(CountryCombobox,{currentValue:en,userCountry:C,onSelect:e=>{et(e);let n=q.nR[e].homeCurrency;J(n),nj(G,n,K,"sending"===K?B:X,e,nb)},style:{width:"100%"}}),(0,r.jsx)(eo,{htmlFor:"sending-currency",style:{alignSelf:"flex-end",marginTop:"16px"},children:u("sendCurrencyText")}),(0,r.jsx)(SendMoneyComboWrapper,{leftChild:(0,r.jsx)(er,{id:"sending-currency",currentValue:G,whitelist:eD,onSelect:e=>{H(e),nj(e,Y,K,"sending"===K?B:X,en,nb)}}),rightChild:(0,r.jsx)(ei,{usedOn:o,"aria-label":"Sending amount",value:B,currencyCode:G,onNumericChange:e=>{ee("sending"),V(e),nj(G,Y,"sending",e,en,nb)},isLoading:e$}),isError:"sending"===nt&&(null!==e7||null!==ne),errorMessage:e7,highValueLeadErrorMessage:ne,isQUOTE035Error:ns,handleModalOpen:handleModalOpen}),(0,r.jsx)(eo,{htmlFor:"receiving-currency",style:{marginTop:"24px"},children:u("receiveCurrencyText")}),(0,r.jsx)(SendMoneyComboWrapper,{leftChild:(0,r.jsx)(er,{id:"receiving-currency",currentValue:Y,whitelist:eR,onSelect:e=>{J(e),nj(G,e,K,"sending"===K?B:X,en,nb)}}),rightChild:(0,r.jsx)(ei,{usedOn:o,"aria-label":"Receiving amount",value:X,currencyCode:Y,onNumericChange:e=>{ee("receiving"),$(e),nj(G,Y,"receiving",e,en,nb)},isLoading:eJ}),isError:null!==e7&&"receiving"===nt,errorMessage:e7,isQUOTE035Error:ns,handleModalOpen:handleModalOpen}),(0,r.jsxs)("div",{style:{display:"grid",gap:16,marginTop:16},children:[(0,r.jsx)(ey,{disabled:null!==e7,style:{position:"relative"},ref:eP,...eF,children:(0,r.jsx)(eu,{children:(0,r.jsxs)(em,{style:{position:"relative"},ref:eA,...ek,children:[u("paymentMenuText",{paymentMethod:eU?"en"===m&&("US"===C||"CA"===C)?u("paymentMethod.".concat(C,".").concat(eU)):u("paymentMethod.".concat(eU)):"..."}),"\xa0",(0,r.jsx)(el,{usedOn:o,$isMenuOpen:eI}),(0,r.jsxs)(ej,{isMenuOpen:eI,children:[(0,r.jsxs)("span",{style:{display:"flex",width:"100%",height:55,padding:"8px 16px",alignItems:"center",gap:8},children:[(0,r.jsx)(O.default,{style:{width:16}})," ",u("paymentInfoTitle")]}),eB.filter(e=>e.deliveryMethod===eL).map((e,n)=>{let{settlementMethod:t,paymentMethodMarginFee:o,paymentMethodFee:i,isEnabled:l,leadTime:a}=e,s=parseFloat(o.replace(/,/g,""))+parseFloat(i.replace(/,/g,""));return(0,r.jsx)(ex,{sendingCurrency:G,paymentMethod:t,fee:s,leadTime:a,onClick:()=>{eq(t),e_(!1),triggerAnonymousQuoteEvent({sendAmount:B,sendCurrency:G,payoutAmount:X,payoutCurrency:Y,paymentMethod:eU,deliveryMethod:eL,destinationCountry:en,sendFee:e8,paymentMethodFee:e1,url:window.location.href})},countryCode:C,disabled:!l,ref:e=>eZ.current[n]=e,...eN},t)})]})]})})}),(0,r.jsx)(ey,{disabled:null!==e7,style:{position:"relative",display:"none"},ref:es,...eS,children:(0,r.jsx)(eu,{children:(0,r.jsxs)(em,{style:{position:"relative"},ref:ea,...eO,children:[u("deliveryMenuText")," ",eL?u("deliveryMethod.".concat(eL)):"...","\xa0",(0,r.jsx)(el,{usedOn:o,$isMenuOpen:eg}),(0,r.jsxs)(ej,{isMenuOpen:eg,children:[(0,r.jsxs)("span",{style:{display:"flex",width:"100%",height:55,padding:"8px 16px",alignItems:"center",gap:8},children:[(0,r.jsx)(O.default,{style:{width:16}})," ",u("deliveryInfoTitle")]}),eU&&(null==eW?void 0:eW.map((e,n)=>{let{method:t,isEnabled:o}=e,i=eU?null==eB?void 0:eB.find(e=>e.settlementMethod===eU&&e.deliveryMethod===t):null,l=i?i.leadTime:"";return(0,r.jsx)(eb,{name:t,leadTime:l,onClick:()=>{eq(eB[0].settlementMethod),eV(t),eT(!1),triggerAnonymousQuoteEvent({sendAmount:B,sendCurrency:G,payoutAmount:X,payoutCurrency:Y,paymentMethod:eU,deliveryMethod:eL,destinationCountry:en,sendFee:e8,paymentMethodFee:e1,url:window.location.href})},isEnabled:o,disabled:!o,ref:e=>eZ.current[n]=e,...eE},t)}))]})]})})})]}),(0,r.jsxs)(ep,{ref:ng,children:[nh?(0,r.jsx)(ev,{children:(0,r.jsxs)(em,{children:[(0,r.jsxs)(eM,{children:[(0,r.jsx)(a(),{src:"/gift.svg",alt:"gift icon",width:18,height:18,loading:"lazy",style:{maxWidth:"100%",height:"auto"}})," ",(0,r.jsx)("span",{children:" New customer rate "})," ",(0,r.jsx)(F.Z,{content:u("sendRateTooltip"),style:{width:"250px",fontWeight:"400"},children:(0,r.jsx)(O.default,{})})]}),null===e7&&!e0&&(0,r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,r.jsx)("span",{children:eH})})]})}):(0,r.jsxs)(em,{children:[(0,r.jsxs)(ed,{children:[(0,r.jsx)("span",{children:u("sendRateText")}),(0,r.jsx)(F.Z,{content:u("sendRateTooltip"),style:{width:"250px",fontWeight:"normal"},children:(0,r.jsx)(O.default,{})})]}),null===e7&&!e0&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(P.Z,{style:{marginRight:"8px"}}),(0,r.jsx)("span",{children:eH})]})]}),(0,r.jsxs)(em,{children:[(0,r.jsxs)(ed,{children:[(0,r.jsx)("span",{style:{textTransform:"capitalize"},children:u("fullSendFeeText")}),(0,r.jsx)(F.Z,{toolTipBackground:"#FFFFFF",content:(0,r.jsxs)("div",{children:[(0,r.jsxs)(em,{children:[(0,r.jsx)("span",{style:{textTransform:"capitalize"},children:u("fullSendFeeText")}),null===e7?(0,r.jsx)("span",{children:e5.format(e8)}):null]}),(0,r.jsxs)(em,{children:[(0,r.jsx)("span",{style:{textTransform:"capitalize"},children:eU?(0,r.jsxs)(r.Fragment,{children:[u("paymentMethod.".concat(eU))," ",u("sendFeeText")]}):(0,r.jsx)(r.Fragment,{children:u("sendFeeText")})}),null===e7?(0,r.jsx)("span",{children:e5.format(e1)}):null]})]}),style:{width:"250px",fontWeight:"normal"},children:(0,r.jsx)(O.default,{})})]}),null===e7?(0,r.jsx)("span",{children:e5.format(e8+e1)}):null]}),(0,r.jsxs)(em,{children:[(0,r.jsx)("span",{children:u("deliveryLabel")}),(0,r.jsx)("span",{children:eU&&eL?eB.map(e=>{if(e.settlementMethod===eU&&e.deliveryMethod===eL)return e.leadTime}):"..."})]})]}),(0,r.jsx)(eh,{}),null!==e7&&"general"===nt&&(0,r.jsx)(ew,{children:(0,r.jsx)(eC,{style:{fontSize:"14px"},children:e7})}),(0,r.jsxs)(ef,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(T.Z,{style:{color:"#141e37"},children:u("costText")}),(0,r.jsx)(T.Z,{style:{color:"#5c677b",fontWeight:"normal"},children:null!==e7?"":e5.format(e4)})]}),(0,r.jsx)(TrackingButton,{errorMessage:e7,isSomethingLoading:e0,mobileDevice:nd,setIsDrawerOpen:na,usedOn:o,setIsNavigatingAway:ni,isNavigatingAway:nr,t:u,featureEnabled:l,featureVariables:c}),ny&&(0,r.jsx)(Z.dy,{isOpen:nl,onClose:()=>na(!1),children:(0,r.jsx)(SignInAndSendOptions,{})})]}),(0,r.jsx)(I.Z,{isOpen:np,onClose:()=>handleModalClose(),withCloseButton:!0,children:(0,r.jsx)(E.Z,{handleModalClose:handleModalClose,from:G,to:Y,amount:B,countryCode:C,recordType:"consumer",buttonName:"HighValue Subscribe"})})]})};var et=(0,i.memo)(Quoter);Quoter.propTypes={fromCountryCode:h().string,toCountryCode:h().string,usedOn:h().string,locale:h().string,userContinent:h().string,featureEnabled:h().bool,featureVariables:h().object};let eo=(0,g.ZP)(A.__).withConfig({componentId:"sc-aa8f2568-0"})(quoter_templateObject());(0,g.ZP)(M.Z).withConfig({componentId:"sc-aa8f2568-1"})(quoter_templateObject1());let er=(0,g.ZP)(M.Z).withConfig({componentId:"sc-aa8f2568-2"})(quoter_templateObject2()),ei=(0,g.ZP)(A._Z).withConfig({componentId:"sc-aa8f2568-3"})(quoter_templateObject3());(0,g.ZP)(A._Z).withConfig({componentId:"sc-aa8f2568-4"})(quoter_templateObject4(),e=>{let{theme:n}=e;return n.color.darkestGrayBlue});let SendMoneyComboWrapper=e=>{let{leftChild:n,rightChild:t,isError:o,errorMessage:i,highValueLeadErrorMessage:l,handleModalOpen:a,isQUOTE035Error:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(A.oi,{as:"div",className:"last:min-w-1/4 flex justify-between p-0 last:max-w-60 last:flex-shrink-0",style:{padding:0},isError:o,highValueLeadErrorMessage:l,children:[n,t]}),o&&i&&!s&&(0,r.jsx)(eC,{style:{fontSize:"13px",marginTop:"4px"},children:i}),o&&i&&s&&(0,r.jsx)(eC,{style:{fontSize:"13px",marginTop:"4px"},children:(0,r.jsx)(ea,{onClick:()=>{a(),U.Z.trackEvent("Button Clicked",{buttonName:"XecomSendMoney HighValue",url:window.location.href,path:window.location.pathname,onBusinessPage:!1})},isHollow:!0,children:(0,r.jsxs)(ec,{children:[" ",i]})})}),o&&l&&(0,r.jsx)(eC,{style:{fontSize:"13px",marginTop:"12px"},highValueLeadErrorMessage:l,children:(0,r.jsxs)(ea,{onClick:()=>{a(),U.Z.trackEvent("Button Clicked",{buttonName:"XecomSendMoney HighValue",url:window.location.href,path:window.location.pathname,onBusinessPage:!1})},isHollow:!0,children:[(0,r.jsxs)(es,{children:[l," "]}),(0,r.jsx)(ec,{children:"Request a callback."})]})})]})};SendMoneyComboWrapper.propTypes={leftChild:h().node,rightChild:h().node,isError:h().bool,errorMessage:h().string,highValueLeadErrorMessage:h().string,handleModalOpen:h().func,isQUOTE035Error:h().bool};let el=(0,g.ZP)(_.default).withConfig({componentId:"sc-aa8f2568-5"})(_templateObject5(),e=>{let{usedOn:n}=e;return"SendMoneyPage"!==n?"16px":"12px"},e=>{let{usedOn:n}=e;return"SendMoneyPage"!==n?"16px":"12px"},e=>{let{$isMenuOpen:n}=e;return n?"rotate(-90deg)":"rotate(90deg)"},e=>{let{usedOn:n}=e;return"SendMoneyPage"!==n?"0px":"auto"}),ea=g.ZP.span.withConfig({componentId:"sc-aa8f2568-6"})(_templateObject6(),N.Pr.minWidthXs,N.Pr.minWidthMd,N.Pr.minWidthBig),es=g.ZP.span.withConfig({componentId:"sc-aa8f2568-7"})(_templateObject7()),ec=g.ZP.small.withConfig({componentId:"sc-aa8f2568-8"})(_templateObject8()),ed=g.ZP.div.withConfig({componentId:"sc-aa8f2568-9"})(_templateObject9()),eu=g.ZP.div.withConfig({componentId:"sc-aa8f2568-10"})(_templateObject10()),ep=g.ZP.div.withConfig({componentId:"sc-aa8f2568-11"})(_templateObject11()),em=g.ZP.div.withConfig({componentId:"sc-aa8f2568-12"})(_templateObject12()),eh=g.ZP.hr.withConfig({componentId:"sc-aa8f2568-13"})(_templateObject13()),ef=(0,g.ZP)(em).withConfig({componentId:"sc-aa8f2568-14"})(_templateObject14(),T.Z),eg=g.ZP.button.withConfig({componentId:"sc-aa8f2568-15"})(_templateObject15()),ex=(0,i.forwardRef)(function(e,n){let{sendingCurrency:t,paymentMethod:o,fee:i,leadTime:l,unavailableReason:a,countryCode:c,...d}=e,{t:u}=(0,f.$)("quoter"),{locale:p}=(0,s.useRouter)(),m=ee[o]?u("en"===p&&("US"===c||"CA"===c)?"paymentMethod.".concat(c,".").concat(o):"paymentMethod.".concat(o)):o,h=ee[o].Icon,g=new z.Z("en"),x=(0,Q.h)({style:"currency",currency:t}),b=null;if(a){var y,j;let e=a.code,n=a.parameters.reduce((e,n)=>{let{key:t,value:o}=n;return e[t]=o,e},{}),t={maxAmount:x.format(null!==(y=n.MaxAmount)&&void 0!==y?y:0),minAmount:x.format(null!==(j=n.MinAmount)&&void 0!==j?j:0),paymentMethod:m};b=u(["errorMessages.".concat(e),"errorMessages.genericError"],t)}return(0,r.jsxs)(eg,{ref:n,...d,children:[(0,r.jsxs)(em,{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[h&&(0,r.jsx)(h,{style:{width:"24px",height:"24px",flexShrink:0,fill:"#006CE0"}}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"auto 8px",textAlign:"left",fontWeight:"normal"},children:[(0,r.jsx)("span",{style:{fontSize:"14px",textTransform:"capitalize"},children:m}),(0,r.jsx)("span",{style:{fontSize:"12px",color:"#5c667b"},children:l})]})]}),!b&&(0,r.jsx)("span",{children:x.format(g.parse(i))})]}),b&&(0,r.jsx)(eC,{children:b})]})}),eb=(0,i.forwardRef)(function(e,n){let{name:t,leadTime:o,isEnabled:i,...l}=e,{t:a}=(0,f.$)("quoter");return(0,r.jsx)(eg,{ref:n,...l,children:(0,r.jsx)(em,{children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(R.JO,{name:en[t],color:"cyan"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"auto 8px",textAlign:"left",fontWeight:"normal"},children:[(0,r.jsx)("span",{style:{fontSize:"14px",textTransform:"capitalize"},children:a("deliveryMethod.".concat(t))}),(0,r.jsx)("span",{style:{fontSize:"12px",color:"#5c667b"},children:i?o:a("deliveryMethodNotAvailable")})]})]})})})}),ey=g.ZP.button.withConfig({componentId:"sc-aa8f2568-16"})(_templateObject16()),ej=g.ZP.div.withConfig({componentId:"sc-aa8f2568-17"})(_templateObject17(),e=>{let{isMenuOpen:n}=e;return n?"visible":"hidden"},e=>{let{isMenuOpen:n}=e;return n?1:0},e=>{let{isMenuOpen:n}=e;return n?"scaleY(1)":"scaleY(0.9)"},e=>{let{isMenuOpen:n}=e;return n?"step-start":"step-end"}),ew=g.ZP.div.withConfig({componentId:"sc-aa8f2568-18"})(_templateObject18()),eC=g.ZP.div.attrs({className:"error"}).withConfig({componentId:"sc-aa8f2568-19"})(_templateObject19()),e_=g.ZP.div.withConfig({componentId:"sc-aa8f2568-20"})(_templateObject20()),eO=g.ZP.div.withConfig({componentId:"sc-aa8f2568-21"})(_templateObject21()),ev=g.ZP.div.withConfig({componentId:"sc-aa8f2568-22"})(_templateObject22()),eM=g.ZP.div.withConfig({componentId:"sc-aa8f2568-23"})(_templateObject23())}}]);